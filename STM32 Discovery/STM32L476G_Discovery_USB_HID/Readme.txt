Example source code for STM32L476G (Discovery) for creating a USB HID device (a mouse in this case).

On-board joystick used as input.